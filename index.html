<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 UBT & Colour Blind Test</title>
    <style>
        :root { --primary: #00b4db; --dark: #12192c; --white: #ffffff; --danger: #ff0055; --success: #2ecc71; --gold: #d4af37; --telegram: #0088cc; }
        body { font-family: sans-serif; margin: 0; background: #f0f2f5; color: #333; overflow-x: hidden; }
        .page { display: none; min-height: 100vh; flex-direction: column; align-items: center; padding: 20px; box-sizing: border-box; }
        .active-page { display: flex; }
        .brand-container { text-align: center; margin-bottom: 20px; padding: 10px; }
        .main-logo { width: 80px; height: 80px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; border: 3px solid var(--gold); box-shadow: 0 0 15px rgba(212, 175, 55, 0.4); position: relative; }
        .logo-inner { width: 60px; height: 60px; background: linear-gradient(135deg, #ff0000 50%, #0000ff 50%); border-radius: 50%; display: flex; align-items: center; justify-content: center; transform: rotate(-15deg); }
        .logo-inner span { color: white; font-weight: bold; font-size: 14px; transform: rotate(15deg); text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .brand-name { font-size: 24px; font-weight: 800; background: linear-gradient(to right, #00d2ff, #91eae4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: 1px; }
        .promo-tag { background: var(--gold); color: #000; font-size: 10px; font-weight: bold; padding: 2px 8px; border-radius: 10px; display: inline-block; vertical-align: middle; margin-top: -10px; }
        .card { width: 100%; max-width: 450px; background: #161b22; border-radius: 15px; border: 1px solid #30363d; color: white; padding-bottom: 20px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        .header { background: linear-gradient(90deg, #00d2ff, #3a7bd5); padding: 15px; text-align: center; font-weight: bold; }
        input, select { width: 85%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #30363d; background: #0d1117; color: white; }
        .btn { width: 85%; padding: 15px; border: none; background: linear-gradient(90deg, #00f260, #0575e6); color: white; font-weight: bold; border-radius: 8px; cursor: pointer; transition: 0.3s; margin-top: 5px; }
        .contact-group { width: 85%; margin: 15px auto; display: flex; flex-direction: column; gap: 8px; }
        .contact-btn { padding: 10px; border-radius: 8px; text-decoration: none; color: white; font-weight: bold; font-size: 14px; display: flex; align-items: center; justify-content: center; gap: 8px; transition: 0.3s; }
        .tg-btn { background: var(--telegram); border: 1px solid #0077b5; }
        .ph-btn { background: var(--success); border: 1px solid #27ae60; }
        
        /* Payment Styles */
        .qr-display { width: 220px; height: auto; border: 4px solid white; border-radius: 10px; margin: 15px 0; }
        .pay-info { background: #0d1117; padding: 10px; border-radius: 8px; border: 1px dashed var(--primary); margin: 10px 0; width: 85%; }

        #exam-page { background: #f0f2f5; justify-content: flex-start; }
        .top-bar { width: 100%; background: #1a233a; color: white; padding: 12px; display: flex; justify-content: space-between; position: sticky; top: 0; z-index: 100; }
        .q-card { width: 100%; max-width: 600px; background: white; padding: 20px; border-radius: 10px; margin-top: 20px; border-top: 5px solid var(--primary); box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        #q-text { font-size: 18px; margin: 15px 0; color: #333; line-height: 1.8; word-break: break-word; }
        .audio-btn { background: #ffc107; border: none; padding: 12px 20px; border-radius: 25px; margin: 10px 0; cursor: pointer; font-weight: bold; width: 100%; }
        .audio-btn:disabled { background: #ccc; cursor: not-allowed; color: #666; }
        .option { background: white; border: 1px solid #ddd; padding: 15px; border-radius: 10px; margin: 10px 0; display: flex; align-items: center; cursor: pointer; transition: 0.2s; width: 100%; max-width: 600px; box-sizing: border-box; color: #333; }
        .option.active { border: 2px solid var(--primary); background: #e1f5fe; }
        .opt-correct-review { background-color: #d4edda !important; border: 2px solid #28a745 !important; color: #155724 !important; }
        .opt-wrong-review { background-color: #f8d7da !important; border: 2px solid #dc3545 !important; color: #721c24 !important; }
        .opt-num { width: 30px; height: 30px; border: 1px solid #333; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 15px; flex-shrink: 0; color: #333; }
        .side-menu { position: fixed; right: -300px; top: 0; width: 280px; height: 100vh; background: white; box-shadow: -5px 0 15px rgba(0,0,0,0.2); transition: 0.3s; z-index: 1002; padding: 20px; box-sizing: border-box; overflow-y: auto; }
        .side-menu.open { right: 0; }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 25px; }
        .num-btn { padding: 10px 0; border: 1px solid #ddd; text-align: center; border-radius: 5px; cursor: pointer; font-size: 13px; background: #f8f9fa; color: #333; }
        .num-btn.done { background: var(--success); color: white; }
        .num-btn.current { background: var(--primary); color: white; }
        #cb-page { background: var(--dark); }
        .cb-img { width: 250px; height: 250px; border-radius: 50%; border: 5px solid white; margin: 20px 0; display: block; margin-left: auto; margin-right: auto; }
        .palette-toggle { position: fixed; right: 20px; bottom: 25px; background: #1a233a; color: white; padding: 15px 20px; cursor: pointer; border-radius: 50px; z-index: 1001; font-size: 14px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); border: 2px solid var(--primary); font-weight: bold; }
        #exit-review-btn { display: none; position: fixed; left: 20px; bottom: 25px; background: var(--danger); color: white; padding: 15px 20px; cursor: pointer; border-radius: 50px; z-index: 1001; font-size: 14px; font-weight: bold; border: 2px solid white; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

<div id="login-page" class="page active-page">
    <div class="brand-container">
        <div class="main-logo"><div class="logo-inner"><span>UBT</span></div></div>
        <div class="brand-name">2026 UBT SYSTEM</div>
        <div class="promo-tag">PASS 100%</div>
        <p style="color: #8b949e; font-size: 12px; margin-top: 5px;">EPS Korea Exam Preparation</p>
    </div>
    <div class="card">
        <div class="header">UBT Paid Student Login</div>
        <center>
            <input type="tel" id="user-phone" placeholder="·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´ (·ÅÄ·Åâ...)">
            <select id="user-job">
                <option>Manufacturing (Ï†úÏ°∞ÏóÖ)</option>
                <option>Agriculture (ÎÜçÏóÖ)</option>
                <option>Construction (Í±¥ÏÑ§ÏóÖ)</option>
                <option>Fishery (Ïñ¥ÏóÖ)</option>
            </select>
            <button class="btn" id="login-btn" onclick="checkAccess()">VERIFY & START</button>
            <p id="login-msg" style="color:#ff0055; font-size:12px; margin-top:10px;"></p>
            <div class="contact-group">
                <a href="https://t.me/UBTCBTest" target="_blank" class="contact-btn tg-btn">‚úà Telegram Join</a>
                <a href="tel:09450052637" class="contact-btn ph-btn">üìû 09450052637 ·Äû·Ä≠·ÄØ·Ä∑ ·Äñ·ÄØ·Äî·Ä∫·Ä∏·ÄÅ·Ä±·Ä´·Ä∫·ÄÜ·Ä≠·ÄØ·Äõ·Äî·Ä∫</a>
            </div>
            <p style="font-size: 12px; color: #58a6ff; cursor: pointer; margin-top: 15px;" onclick="viewResults()">VIEW FINAL RESULTS</p>
        </center>
    </div>
</div>

<div id="payment-page" class="page">
    <div class="card" style="text-align: center;">
        <div class="header">·ÄÑ·ÄΩ·Ä±·Äï·Ä±·Ä∏·ÄÅ·Äª·Ä±·Äõ·Äî·Ä∫ (·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äõ·Äî·Ä∫)</div>
        <p style="padding: 10px 20px; font-size: 14px; color: #ccc;">·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´ KBZPay QR ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫·Äû·Ä≠·ÄØ·Ä∑ ·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Ä±·Ä∏·Äï·Ä´·Åã</p>
        <center>
            <img src="https://lh3.googleusercontent.com/d/18DPOzbs09AMibxYm0cDhi2i-6C2AbmkD" class="qr-display" alt="KPay QR">
            <div class="pay-info">
                <span style="font-size: 12px; color: var(--primary);">Kpay Phone Number</span><br>
                <strong style="font-size: 18px; letter-spacing: 1px;">09450052637</strong>
            </div>
            <p style="font-size: 12px; color: var(--gold); margin: 15px 0;">·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·ÄÄ Screenshot ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Åç ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä±·Ä∏·Äï·Ä´·Åã</p>
            <input type="file" id="ss-upload" accept="image/*" style="margin-bottom: 10px;">
            <button class="btn" onclick="submitPayment()">SEND TO TELEGRAM</button>
            <button class="btn" style="background:#2c3e50; margin-top: 10px;" onclick="location.reload()">BACK</button>
        </center>
    </div>
</div>

<div id="exam-page" class="page">
    <div class="top-bar">
        <div id="display-name">Name</div>
        <div id="timer" style="background:var(--danger); padding:3px 12px; border-radius:5px; font-weight:bold;">50:00</div>
    </div>
    <div class="q-card">
        <div id="q-no" style="color:var(--primary); font-weight:bold;">Question 1</div>
        <div id="q-category" style="font-size: 12px; color: gray; margin-bottom: 5px;"></div>
        <div id="q-text"></div>
        <div id="q-audio-box"></div>
        <img id="q-img" style="width:100%; display:none; border-radius:8px; margin-top:10px;">
    </div>
    <div id="options-container" style="width:100%; max-width:600px;"></div>
    <div style="display:flex; gap:10px; margin-top:20px; width:100%; max-width:600px; margin-bottom: 80px;">
        <button class="btn" style="background:#2c3e50;" onclick="prevQ()">PREV</button>
        <button class="btn" style="background:#2c3e50;" onclick="nextQ()">NEXT</button>
    </div>
    <div class="palette-toggle" id="palette-btn" onclick="toggleMenu()">QUESTIONS ‚ò∞</div>
    <div id="exit-review-btn" onclick="exitReview()">EXIT REVIEW ‚úñ</div>
    <div id="side-menu" class="side-menu">
        <h3 style="margin-top:0; font-size:18px;">Exam Questions</h3>
        <div id="exam-grid" class="grid"></div>
        <button id="finish-btn" class="btn" style="width:100%; background:var(--danger);" onclick="finishPartOne()">FINISH EXAM</button>
        <button class="btn" style="width:100%; background:#2c3e50; margin-top:10px;" onclick="toggleMenu()">CLOSE</button>
    </div>
</div>

<div id="cb-page" class="page">
    <div class="card" style="text-align: center;">
        <div class="header">COLOR BLIND TEST</div>
        <div id="cb-q-no" style="margin-top:10px; color:white;">Plate 1 of 5</div>
        <img id="cb-display-img" class="cb-img" src="">
        <input type="number" id="cb-input" placeholder="·ÄÇ·Äè·Äî·Ä∫·Ä∏·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Ä´">
        <button class="btn" onclick="nextCB()">NEXT PLATE</button>
    </div>
</div>

<div id="result-page" class="page">
    <div class="result-container">
        <div id="status-badge" class="status-badge"></div>
        <h2 id="final-score" style="margin: 0;">Score: 0</h2>
        <p id="final-stats"></p>
        <button class="btn" style="background:var(--primary); width: 100%; margin-bottom: 10px;" onclick="enterReview()">REVIEW ANSWERS</button>
        <div class="review-scroll" id="review-list"></div>
        <div class="contact-group" style="width: 100%;">
            <a href="https://t.me/UBTCBTest" target="_blank" class="contact-btn tg-btn">‚úà Telegram Contact</a>
            <a href="tel:09450052637" class="contact-btn ph-btn">üìû 09450052637</a>
        </div>
        <button class="btn" style="background:#2c3e50; width: 100%;" onclick="location.reload()">TRY AGAIN</button>
    </div>
</div>

<script>
    const apiURL = "https://script.google.com/macros/s/AKfycbznDHtuChbNOEL2j4d6CZa_4V6kXtwH88DOEduUZG1W5M9d03S4oLDdPIySxNfuRQq82Q/exec";
    let questions = [], current = 0, answers = [], audioLogs = {}, timeLeft = 50 * 60;
    let cbList = [1, 2, 3, 4, 5], cbIdx = 0, cbAnswers = [];
    let globalPhone = "", isReviewing = false;
    let cbTimeLeft = 60, cbTimerObj;
    const cbKey = { 1: "35", 2: "8", 3: "16", 4: "2", 5: "57" };

    function getDeviceId() {
        let id = localStorage.getItem('ubt_device_id');
        if (!id) {
            id = 'dev-' + Math.random().toString(36).substr(2, 9) + Date.now();
            localStorage.setItem('ubt_device_id', id);
        }
        return id;
    }

    async function checkAccess() {
        const phone = document.getElementById('user-phone').value;
        const btn = document.getElementById('login-btn');
        const msg = document.getElementById('login-msg');
        if (!phone) return alert("·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´");
        btn.disabled = true; btn.innerText = "Checking...";
        try {
            const deviceId = getDeviceId();
            const res = await fetch(`${apiURL}?action=checkAccess&phone=${phone}&deviceId=${deviceId}`);
            const result = await res.json();
            if (result.allowed) {
                globalPhone = phone; startExam(result.name);
            } else {
                if(result.msg.includes("·Äô·Äõ·Äæ·Ä≠·Äï·Ä´")) {
                    document.getElementById('login-page').classList.remove('active-page');
                    document.getElementById('payment-page').classList.add('active-page');
                } else {
                    msg.innerText = result.msg; btn.disabled = false; btn.innerText = "VERIFY & START";
                }
            }
        } catch (e) { alert("Error connecting to server!"); btn.disabled = false; }
    }

    function submitPayment() {
        const phone = document.getElementById('user-phone').value;
        const file = document.getElementById('ss-upload').files[0];
        if (!file) return alert("Screenshot ·Äï·ÄØ·Ä∂·Ä°·Äõ·ÄÑ·Ä∫·Äê·ÄÑ·Ä∫·Äï·Ä´");
        alert("Telegram ·Äû·Ä≠·ÄØ·Ä∑ Screenshot ·Äï·Ä±·Ä∏·Äï·Ä≠·ÄØ·Ä∑·Äõ·Äî·Ä∫ ·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·Ä≤·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã");
        const tgLink = `https://t.me/UBTCBTest?text=·ÄÄ·Äª·ÄΩ·Äî·Ä∫·Äê·Ä±·Ä¨·Ä∫·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äë·Ä¨·Ä∏·Äï·Ä´·Äê·Äö·Ä∫·ÄÅ·ÄÑ·Ä∫·Äó·Äª·Ä¨·Åã%0A·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫: ${phone}`;
        window.open(tgLink, '_blank');
        location.reload();
    }

    async function startExam(name) {
        document.getElementById('login-page').classList.remove('active-page');
        document.getElementById('exam-page').classList.add('active-page');
        document.getElementById('display-name').innerText = name;
        try {
            const res = await fetch(apiURL);
            let rawData = await res.json();
            let readingQs = rawData.filter(q => !q.audio);
            let listeningQs = rawData.filter(q => q.audio);
            readingQs.sort(() => Math.random() - 0.5);
            listeningQs.sort(() => Math.random() - 0.5);
            questions = [...readingQs, ...listeningQs];
            questions.forEach(q => {
                let optionsWithMeta = q.options.map((text, index) => ({ text, isCorrect: index === q.ans }));
                optionsWithMeta.sort(() => Math.random() - 0.5);
                q.shuffledOptions = optionsWithMeta.map(o => o.text);
                q.newAnsIndex = optionsWithMeta.findIndex(o => o.isCorrect);
            });
            answers = new Array(questions.length).fill(null);
            cbList = cbList.sort(() => Math.random() - 0.5);
            renderQ(); startTimer();
        } catch(e) { alert("Data Fetch Error!"); }
    }

    function renderQ() {
        const q = questions[current];
        document.getElementById('q-no').innerText = `Question ${current + 1}`;
        document.getElementById('q-category').innerText = q.audio ? "[Îì£Í∏∞ - Listening]" : "[ÏùΩÍ∏∞ - Reading]";
        document.getElementById('q-text').innerHTML = q.text || "";
        const aBox = document.getElementById('q-audio-box');
        if (q.audio) {
            let qAudioId = btoa(q.audio).substring(0, 15);
            let count = audioLogs[qAudioId] || 0;
            aBox.innerHTML = `<button class="audio-btn" onclick="playAudio('${q.audio}', '${qAudioId}')" ${count >= 2 ? 'disabled' : ''}>
                üéß ${count >= 2 ? 'LIMIT REACHED' : 'LISTEN (' + count + '/2)'}
            </button>`;
        } else { aBox.innerHTML = ""; }
        const img = document.getElementById('q-img');
        if(q.img) { img.src = q.img; img.style.display = "block"; } else { img.style.display = "none"; }
        const optDiv = document.getElementById('options-container'); optDiv.innerHTML = "";
        q.shuffledOptions.forEach((opt, i) => {
            let content = "";
            if (opt.toString().match(/\.(jpg|jpeg|png)$/i)) { content = `<img src="${opt}" style="height:70px; border-radius:5px;">`; }
            else if (opt.toString().match(/\.mp3$/i)) {
                let optId = btoa(opt).substring(0, 15);
                let count = audioLogs[optId] || 0;
                content = `<button class="audio-btn" style="margin:0; width:auto; font-size:12px; padding:8px 15px;" onclick="event.stopPropagation(); playAudio('${opt}', '${optId}')" ${count >= 2 ? 'disabled' : ''}>üéß Audio (${count}/2)</button>`;
            } else { content = `<span>${opt}</span>`; }
            let reviewClass = (isReviewing) ? (i === q.newAnsIndex ? "opt-correct-review" : (answers[current] === i ? "opt-wrong-review" : "")) : "";
            optDiv.innerHTML += `<div class="option ${answers[current]===i && !isReviewing ?'active':''} ${reviewClass}" onclick="${isReviewing ? '' : `setAns(${i})`}"><div class="opt-num">${i+1}</div><div>${content}</div></div>`;
        });
        updatePalette();
    }
    
    function playAudio(url, id) { if (!audioLogs[id]) audioLogs[id] = 0; if (audioLogs[id] < 2) { new Audio(url).play(); audioLogs[id]++; renderQ(); } }
    function setAns(i) { answers[current] = i; renderQ(); }
    function nextQ() { if(current < questions.length-1) { current++; renderQ(); } }
    function prevQ() { if(current > 0) { current--; renderQ(); } }
    function toggleMenu() { document.getElementById('side-menu').classList.toggle('open'); }
    function updatePalette() {
        const grid = document.getElementById('exam-grid'); grid.innerHTML = "";
        questions.forEach((_, i) => {
            const btn = document.createElement('div');
            btn.className = `num-btn ${answers[i] !== null ? 'done' : ''} ${i === current ? 'current' : ''}`;
            btn.innerText = i + 1;
            btn.onclick = () => { current = i; renderQ(); if(window.innerWidth < 768) toggleMenu(); };
            grid.appendChild(btn);
        });
    }
    function startTimer() { const timerObj = setInterval(() => { if(timeLeft <= 0 || isReviewing) { clearInterval(timerObj); if(!isReviewing) finishPartOne(); } timeLeft--; let m = Math.floor(timeLeft/60), s = timeLeft%60; document.getElementById('timer').innerText = `${m}:${s<10?'0':''}${s}`; }, 1000); }
    function finishPartOne() { document.getElementById('exam-page').classList.remove('active-page'); document.getElementById('cb-page').classList.add('active-page'); loadCB(); }
    function loadCB() { document.getElementById('cb-q-no').innerText = `Plate ${cbIdx + 1} of 5`; document.getElementById('cb-display-img').src = `cb${cbList[cbIdx]}.jpg`; document.getElementById('cb-input').value = ""; if (cbIdx === 0) startCBTimer(); }
    function startCBTimer() { if (cbTimerObj) clearInterval(cbTimerObj); cbTimerObj = setInterval(() => { if (cbTimeLeft <= 0) { clearInterval(cbTimerObj); processResults(); return; } cbTimeLeft--; let m = Math.floor(cbTimeLeft / 60), s = cbTimeLeft % 60; document.getElementById('cb-q-no').innerText = `Plate ${cbIdx + 1} (Time: ${m}:${s<10?'0':''}${s})`; }, 1000); }
    function nextCB() { const val = document.getElementById('cb-input').value; cbAnswers.push({ plate: cbList[cbIdx], userAns: val }); if(cbIdx < 4) { cbIdx++; loadCB(); } else { clearInterval(cbTimerObj); processResults(); } }
    async function processResults() {
        let score = 0, reviewHTML = "<h3>UBT Review</h3>";
        questions.forEach((q, i) => { const isCorrect = answers[i] === q.newAnsIndex; if(isCorrect) score += 2.5; reviewHTML += `<div class="review-line" onclick="jumpToQ(${i})">Q${i+1}: <span class="${isCorrect?'correct-ans':'wrong-ans'}">${isCorrect?'‚úì':'‚úó'}</span></div>`; });
        document.getElementById('cb-page').classList.remove('active-page'); document.getElementById('result-page').classList.add('active-page');
        document.getElementById('final-score').innerText = `Score: ${score}`; document.getElementById('status-badge').innerText = score >= 95 ? "PASS" : "FAIL";
        document.getElementById('review-list').innerHTML = reviewHTML;
        const data = { name: document.getElementById('display-name').innerText, phone: globalPhone, sector: document.getElementById('user-job').value, score: score, cbScore: "Checked" };
        fetch(apiURL, { method: "POST", body: JSON.stringify(data) });
    }
    function enterReview() { isReviewing = true; document.getElementById('result-page').classList.remove('active-page'); document.getElementById('exam-page').classList.add('active-page'); document.getElementById('exit-review-btn').style.display = "block"; document.getElementById('finish-btn').style.display = "none"; current = 0; renderQ(); }
    function exitReview() { isReviewing = false; document.getElementById('exam-page').classList.remove('active-page'); document.getElementById('result-page').classList.add('active-page'); document.getElementById('exit-review-btn').style.display = "none"; }
    function jumpToQ(i) { enterReview(); current = i; renderQ(); }
    async function viewResults() { const name = prompt("·Ä°·Äô·Ää·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Ä´:"); if(name) { try { const res = await fetch(`${apiURL}?viewResult=true&name=${name}`); const data = await res.json(); if(data.length > 0) alert(`${name} ·Åè ·Äõ·Äô·Äæ·Äê·Ä∫: ${data[data.length-1][4]}`); else alert("·Äô·Äõ·Äæ·Ä≠·Äï·Ä´"); } catch(e) { alert("Error"); } } }
</script>
</body>
                    </html>
